{% extends "components/base.html" %}
{% load static %}

{% block content %}

<section id="modules" class="services">
    <div class="container center-container" data-aos="fade-up">
  
      <div class="section-title">
        <h2>{{ module_name }}</h2>
      </div>
       
    <video id="video" width="640" height="480" autoplay></video>
    <button id="snap" onclick=openInput()>Capturar imagen</button>
    <canvas id="canvas" width="640" height="480" style="display:none;"></canvas>
    <form id="captureForm" method="POST" action="#">
    {% csrf_token %}
    <input type="hidden" name="imageData" id="imageData">
    <input type="button" value="Enviar Captura" id="sendCapture" onclick=closeInput() style="display: none; background-color: #4CAF50; color: white; padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; transition: 0.3s;">
    </form>
</div>
</section>

<div id="modalDisplay" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <div class="container center-container" data-aos="fade-up">
      <img id="modalImage" src="" alt="Imagen" >
      <div id="modalTitle" class="section-title">
        <h5></h5>
      </div>
      <div id="dataContainer"></div>
    </div>
  </div>
</div>

<div id="successModal" class="modal small-modal">
  <div class="modal-content">
    <span class="close" onclick="closeSuccessModal()">&times;</span>
    <p id="successMessage"></p>
  </div>
</div>

<script src={% static 'assets/js/imgCapture.js' %}></script> 

{% endblock content %}
